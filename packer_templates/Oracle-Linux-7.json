{
"variables": {
"guest_os_type": "oraclelinux7-64",
"floppy_files": "kickstart/oraclelinux7/ks.cfg",
"iso_url": "put_files_here/V983339-01.iso",
"iso_checksum_type": "sha256",
"iso_checksum": "1D06CEF6A518C32C0E7ADCAD0A99A8EFBC7516066DE41118EBF49002C15EA84D",
"ssh_username": "root",
"ssh_password": "{{env `rootpw`}}",
"hostname": "",
"dnsuffix":"{{env `USERDNSDOMAIN`}}",
"proxy":"{{env `http_proxy`}}"
},

"builders": [
{
  "type": "vmware-iso",
  "vm_name": "{{ user `hostname` }}",
  "iso_url": "{{ user `iso_url` }}",
  "iso_checksum": "{{ user `iso_checksum` }}",
  "iso_checksum_type": "{{ user `iso_checksum_type` }}",
  "guest_os_type": "{{ user `guest_os_type` }}",
  "ssh_username": "{{ user `ssh_username` }}",
  "ssh_password": "{{ user `ssh_password` }}",
  "ssh_timeout": "120m",
  "floppy_files": [
          "{{ user `floppy_files` }}"
        ],
  "boot_command": [
  "<up><tab> inst.text rootpw={{ user `ssh_password` }} inst.ks=hd:fd0:/ks.cfg <enter><wait>"
  ],
  "shutdown_command": "shutdown -P now",
  "shutdown_timeout": "120m"
  }
],

"provisioners": [  
  {
    "type": "file",
    "source": "script/",
    "destination": "/tmp"
  },
  {
    "type": "shell",
    "inline": [
      "chmod -R a+rx /tmp/linux && /tmp/linux/setEnvironmentVariables.sh"
    ],
	"environment_vars": [
      "proxy={{user `proxy`}}",
      "hostname={{ user `hostname` }}",
      "domainname={{user `dnsuffix`}}"
	  ]
  }
  ]
}